<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Help | Easy Cleany</title>
  <style>
    :root{
      --bg:#f6f3fb;
      --card:#ffffff;
      --text:#1d1330;
      --muted:#6a5f7d;
      --line:#e9e1f3;
      --accent:#833CCF;
      --accent-dark:#5f1fa1;
      --accent-soft:rgba(131,60,207,0.12);
      --accent-soft-2:rgba(131,60,207,0.06);
      --shadow:0 16px 40px rgba(26,17,43,.12);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
      color:var(--text);
    }
    button{font:inherit;}
    a{color:inherit; text-decoration:none;}
    .help-app{min-height:100vh;}

    .hero{
      background:
        radial-gradient(1200px 520px at 10% 0%, rgba(255,255,255,.08), rgba(0,0,0,0)),
        radial-gradient(600px 300px at 90% 30%, rgba(255,177,80,.35), rgba(0,0,0,0)),
        linear-gradient(135deg, #5a1d99 0%, #833CCF 60%, #4a1d76 100%);
      color:#fff;
      padding:70px 20px 90px;
      position:relative;
      overflow:hidden;
    }
    .hero::before,
    .hero::after{
      content:"";
      position:absolute;
      border-radius:999px;
      opacity:.65;
    }
    .hero::before{
      width:260px; height:260px;
      background:#4fd1ff;
      bottom:-120px; left:-80px;
    }
    .hero::after{
      width:180px; height:180px;
      background:#ff9f66;
      top:-70px; right:-50px;
    }
    .hero-inner{
      max-width:1100px;
      margin:0 auto;
      text-align:center;
      position:relative;
      z-index:1;
    }
    .hero h1{
      margin:0 0 16px;
      font-size:clamp(2.2rem, 4vw, 3.6rem);
      font-weight:900;
      letter-spacing:-0.02em;
    }
    .hero p{
      margin:0 0 24px;
      font-size:1.05rem;
      color:rgba(255,255,255,.85);
    }
    .searchbar{
      max-width:680px;
      margin:0 auto;
      background:#fff;
      border-radius:16px;
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 16px;
      box-shadow:var(--shadow);
      color:var(--muted);
    }
    .searchbar span{font-size:1.1rem;}
    .searchbar input{
      border:none;
      outline:none;
      flex:1;
      font-size:1rem;
    }
    .search-btn{
      border:none;
      background:var(--accent);
      color:#fff;
      padding:10px 18px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 8px 18px rgba(26,17,43,.18);
    }
    .search-suggestions{
      max-width:680px;
      margin:12px auto 0;
      background:#fff;
      border-radius:14px;
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      display:none;
      overflow:hidden;
      text-align:left;
    }
    .search-suggestions.active{display:block;}
    .search-suggestion{
      padding:12px 16px;
      border-bottom:1px solid var(--line);
      cursor:pointer;
      font-weight:600;
      color:var(--muted);
    }
    .search-suggestion:last-child{border-bottom:none;}
    .search-suggestion strong{color:var(--accent-dark);}

    .container{
      max-width:1200px;
      margin:0 auto;
      padding:40px 20px 80px;
    }

    .view{display:none;}
    .view.active{display:block;}

    .category-grid{
      display:grid;
      grid-template-columns:repeat(3, minmax(0, 1fr));
      gap:22px;
      margin-top:-60px;
    }
    @media (max-width: 980px){
      .category-grid{grid-template-columns:repeat(2, minmax(0, 1fr));}
    }
    @media (max-width: 640px){
      .category-grid{grid-template-columns:1fr;}
    }
    .category-card{
      background:var(--card);
      border-radius:20px;
      padding:28px 24px;
      grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
      gap:18px;
      margin-top:-60px;
    }
    .category-card{
      background:var(--card);
      border-radius:20px;
      padding:20px;
      box-shadow:var(--shadow);
      border:1px solid var(--line);
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:14px;
      gap:12px;
      cursor:pointer;
      transition:transform .15s ease, border-color .15s ease;
    }
    .category-card:hover{transform:translateY(-3px); border-color:rgba(131,60,207,.4);}
    .category-icon{
      width:88px; height:88px;
      display:grid; place-items:center;
      border-radius:24px;
      background:var(--accent-soft);
      font-size:2.4rem;
    }
    .category-card h3{
      margin:0;
      font-size:1.2rem;
      width:54px; height:54px;
      display:grid; place-items:center;
      border-radius:16px;
      background:var(--accent-soft);
      font-size:1.7rem;
    }
    .category-card h3{
      margin:0;
      font-size:1.1rem;
      font-weight:800;
    }
    .category-card p{
      margin:0;
      color:var(--muted);
      font-size:.95rem;
      line-height:1.4;
    }

    .category-layout{
      display:grid;
      grid-template-columns:220px 1fr;
      gap:26px;
      align-items:start;
    }
    @media (max-width: 900px){
      .category-layout{grid-template-columns:1fr;}
    }
    .category-tabs{
      background:#fff;
      border-radius:18px;
      border:1px solid var(--line);
      padding:12px;
      box-shadow:var(--shadow);
      position:sticky;
      top:20px;
    }
    .category-tabs h4{
      margin:6px 10px 12px;
      font-size:.9rem;
      color:var(--muted);
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    .category-tab{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:14px;
      font-weight:700;
      color:var(--muted);
      cursor:pointer;
      transition:background .15s ease, color .15s ease;
    }
    .category-tab.active{
      background:var(--accent-soft);
      color:var(--accent-dark);
    }

    .category-header{
      background:#fff;
      border-radius:20px;
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      padding:24px;
      margin-bottom:20px;
    }
    .category-header h2{
      margin:0 0 8px;
      font-size:1.8rem;
    }
    .category-header p{
      margin:0;
      color:var(--muted);
    }

    .subcat-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      gap:16px;
    }
    .subcat-card{
      background:#fff;
      border-radius:18px;
      border:1px solid var(--line);
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:12px;
      box-shadow:var(--shadow);
      cursor:default;
      transition:transform .15s ease, border-color .15s ease;
    }
    .subcat-card:hover{border-color:var(--line);}
      cursor:pointer;
      transition:transform .15s ease, border-color .15s ease;
    }
    .subcat-card:hover{transform:translateY(-3px); border-color:rgba(131,60,207,.4);}
    .subcat-icon{
      width:48px; height:48px;
      border-radius:14px;
      display:grid; place-items:center;
      background:var(--accent-soft-2);
      font-size:1.4rem;
      color:var(--accent-dark);
    }
    .subcat-card h3{margin:0; font-size:1.1rem;}
    .subcat-card p{margin:0; color:var(--muted); font-size:.92rem;}
    .subcat-list{
      margin:0;
      padding-left:18px;
      color:var(--muted);
      font-size:.92rem;
      line-height:1.5;
      columns:2;
      column-gap:28px;
    }
    .subcat-list li{break-inside:avoid; margin-bottom:8px;}
    .subcat-link{
      color:var(--accent-dark);
      font-weight:600;
      text-decoration:none;
      background:none;
      border:none;
      padding:0;
      text-align:left;
    }
    .subcat-link:hover{text-decoration:underline;}

    .search-results-head{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:20px;
      margin-bottom:20px;
    }
    .search-results-head h2{margin:0;}
    .search-results-meta{color:var(--muted);}
    .search-results-grid{
      display:grid;
      gap:16px;
    }
    .search-result-card{
      background:#fff;
      border-radius:18px;
      border:1px solid var(--line);
      padding:18px;
      box-shadow:var(--shadow);
      cursor:pointer;
      transition:transform .15s ease, border-color .15s ease;
    }
    .search-result-card:hover{transform:translateY(-3px); border-color:rgba(131,60,207,.4);}
    .search-result-card h3{margin:0 0 8px;}
    .search-result-card p{
      margin:0;
      color:var(--muted);
      display:-webkit-box;
      -webkit-line-clamp:3;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }
    .subcat-card h3{margin:0; font-size:1.05rem;}
    .subcat-card p{margin:0; color:var(--muted); font-size:.92rem;}

    .article-layout{
      display:grid;
      grid-template-columns:1fr 260px;
      gap:30px;
      align-items:start;
    }
    @media (max-width: 980px){
      .article-layout{grid-template-columns:1fr;}
    }
    .article-card{
      background:#fff;
      border-radius:20px;
      border:1px solid var(--line);
      padding:26px;
      box-shadow:var(--shadow);
    }
    .breadcrumb{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      color:var(--muted);
      font-size:.9rem;
      margin-bottom:14px;
    }
    .breadcrumb span{
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .pill{
      background:var(--accent-soft);
      color:var(--accent-dark);
      font-weight:700;
      padding:4px 10px;
      border-radius:999px;
      font-size:.8rem;
    }
    .article-card h2{
      margin:0 0 14px;
      font-size:2rem;
    }
    .article-card p{
      color:var(--muted);
      line-height:1.6;
    }
    .article-section{margin-top:26px;}
    .article-section h3{
      margin:0 0 8px;
      font-size:1.2rem;
      color:var(--accent-dark);
    }

    .article-nav{
      background:#fff;
      border-radius:18px;
      border:1px solid var(--line);
      padding:16px;
      box-shadow:var(--shadow);
      position:sticky;
      top:20px;
    }
    .article-nav h4{
      margin:6px 0 12px;
      font-size:.85rem;
      text-transform:uppercase;
      letter-spacing:.08em;
      color:var(--muted);
    }
    .article-nav a{
      display:block;
      padding:8px 10px;
      border-radius:12px;
      color:var(--muted);
      font-weight:600;
      font-size:.92rem;
    }
    .article-nav a:hover{background:var(--accent-soft-2); color:var(--accent-dark);}    

    .feedback{
      margin-top:32px;
      border-top:1px solid var(--line);
      padding-top:22px;
    }
    .feedback h4{margin:0 0 14px;}
    .feedback-actions{
      display:flex; gap:12px; flex-wrap:wrap;
    }
    .btn{
      border:1px solid var(--accent);
      background:#fff;
      color:var(--accent-dark);
      padding:10px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
    }
    .btn-primary{background:var(--accent); color:#fff;}
    .btn-outline{background:#fff;}

    .feedback-form{
      margin-top:16px;
      display:grid;
      gap:12px;
    }
    .feedback-form textarea{
      width:100%;
      min-height:120px;
      border-radius:12px;
      border:1px solid var(--line);
      padding:12px;
      font-family:inherit;
    }
    .feedback-options{
      display:grid;
      gap:10px;
      color:var(--muted);
      font-size:.95rem;
    }
    .feedback-thanks{
      margin-top:16px;
      background:var(--accent-soft);
      color:var(--accent-dark);
      padding:16px;
      border-radius:14px;
      font-weight:700;
    }

    .toolbar{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:18px;
    }
    .link-btn{
      border:none;
      background:transparent;
      color:var(--accent-dark);
      font-weight:700;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="help-app">
    <section class="hero">
      <div class="hero-inner">
        <h1>Hallo! Wie k√∂nnen wir dir helfen?</h1>
        <p>Finde Antworten rund um Endreinigung, Wohnungs√ºbergabe und Mietrecht ‚Äì kompakt, klar und in deinem Stil.</p>
        <div class="searchbar" aria-label="Hilfe durchsuchen">
          <span>üîç</span>
          <input id="searchInput" type="search" placeholder="Thema suchen (z.B. Abnahmeprotokoll, Kaution, Besenrein)" />
          <button class="search-btn" id="searchBtn" type="button">Suche</button>
        </div>
        <div class="search-suggestions" id="searchSuggestions" aria-live="polite"></div>
          <input type="search" placeholder="Thema suchen (z.B. Abnahmeprotokoll, Kaution, Besenrein)" />
        </div>
      </div>
    </section>

    <main class="container">
      <section id="helpHome" class="view active" aria-label="Kategorien">
        <div class="category-grid" id="categoryGrid"></div>
      </section>

      <section id="helpSearch" class="view" aria-label="Suchergebnisse">
        <div class="search-results-head">
          <div>
            <h2>Suchergebnisse</h2>
            <div class="search-results-meta" id="searchResultsMeta">Gib oben einen Begriff ein.</div>
          </div>
        </div>
        <div class="search-results-grid" id="searchResults"></div>
      </section>

      <section id="helpCategory" class="view" aria-label="Kategorie">
        <div class="toolbar">
          <button class="link-btn" id="backToHome">‚Üê Zur√ºck zur √úbersicht</button>
        </div>
        <div class="category-layout">
          <nav class="category-tabs" id="categoryTabs">
            <h4>Kategorien</h4>
          </nav>
          <div>
            <div class="category-header">
              <h2 id="categoryTitle"></h2>
              <p id="categorySubtitle"></p>
            </div>
            <div class="subcat-grid" id="subcategoryGrid"></div>
          </div>
        </div>
      </section>

      <section id="helpArticle" class="view" aria-label="Artikel">
        <div class="toolbar">
          <button class="link-btn" id="backToCategory">‚Üê Zur√ºck zur Kategorie</button>
        </div>
        <div class="article-layout">
          <article class="article-card" id="articleContent"></article>
          <aside class="article-nav" id="articleNav"></aside>
        </div>
      </section>
    </main>
  </div>

  <script>
    const helpData = [
      {
        id: "reinigung",
        title: "Reinigung",
        subtitle: "Endreinigung der Wohnung",
        icon: "üßΩ",
        description: "Standards, Spezialf√§lle und Verantwortung bei der Endreinigung.",
        topics: [
          {
            id: "reinigung-standard",
            title: "√úbergabe-Standard",
            icon: "‚ú®",
            description: "Wie sauber muss es sein ‚Äì und wann reicht besenrein?",
            keywords: ["Endreinigung", "√úbergabe", "besenrein", "Renovation", "Sauberkeit"],
            questions: [
              "Wie sauber muss die Wohnung bei der √úbergabe sein?",
              "Was bedeutet besenrein wirklich?",
              "Reicht besenrein bei der Wohnungsabgabe aus?",
              "Muss ich bei Renovation trotzdem gr√ºndlich putzen?",
              "Welche R√§ume m√ºssen besonders sauber sein?"
            ],
            sections: [
              {
                title: "Wie sauber muss die Wohnung bei der √úbergabe sein?",
                text: "In der Regel muss eine Mietwohnung gr√ºndlich gereinigt √ºbergeben werden ‚Äì also tipptopp sauber in allen R√§umen. Dazu geh√∂ren B√∂den (fegen, staubsaugen, feucht aufnehmen), Fenster (innen und aussen), K√ºche (alle Ger√§te, Oberfl√§chen, Sp√ºle, Dampfabzug), Bad/WC (Sanit√§reinrichtungen gr√ºndlich putzen) sowie Schr√§nke, Keller oder Balkon. Kurz: so sauber, wie man sie selbst als neue Mieterin √ºbernehmen m√∂chte."
              },
              {
                title: "Was bedeutet ‚Äûbesenrein‚Äú und reicht das bei der Wohnungsabgabe?",
                text: "‚ÄûBesenrein‚Äú bedeutet nur grob gereinigt (besensauber, gefegt und oberfl√§chlich sauber). Das gen√ºgt nur, wenn es im Mietvertrag ausdr√ºcklich vereinbart ist ‚Äì oft gegen eine Reinigungspauschale. Selbst dann m√ºssen Bad und K√ºche gr√ºndlich gereinigt werden, da diese Bereiche nicht unter eine blosse Kehrrreinigung fallen."
              },
              {
                title: "Die Wohnung wird nach meinem Auszug renoviert ‚Äì muss ich sie trotzdem putzen?",
                text: "Bei einer umfassenden Renovation gen√ºgt es normalerweise, die Wohnung besenrein zu hinterlassen. Alles, was durch die Renovationsarbeiten ohnehin wieder schmutzig wird, muss nicht im Detail gereinigt werden. Eine zus√§tzliche Baureinigung nach den Arbeiten ist Sache des Vermieters."
              }
            ]
          },
          {
            id: "reinigung-spezial",
            title: "Reinigungsumfang & Spezialfl√§chen",
            icon: "ü™ü",
            description: "Teppiche, Fensterl√§den und heikle Arbeiten richtig einordnen.",
            keywords: ["Teppich shampoonieren", "Fensterl√§den", "Doppelfenster", "Sicherheitsarbeiten"],
            questions: [
              "Muss ich Teppiche shampoonieren?",
              "Was gilt bei stark verschmutzten Teppichen?",
              "Muss ich aussenliegende Fensterl√§den reinigen?",
              "Welche Reinigungsarbeiten sind zu gef√§hrlich?"
            ],
            sections: [
              {
                title: "Muss ich Teppichb√∂den reinigen oder shampoonieren?",
                text: "Ja, fest verlegte Teppichb√∂den sollten im Rahmen der Endreinigung gr√ºndlich gereinigt werden ‚Äì oft inklusive Shampoonieren, um Flecken oder tiefsitzenden Schmutz zu entfernen. Eine Ausnahme gilt, wenn der Vermieter den alten Teppich ohnehin unmittelbar nach dem Auszug ersetzt."
              },
              {
                title: "Muss ich gef√§hrliche oder spezielle Reinigungsarbeiten durchf√ºhren?",
                text: "Nein. Mieterinnen und Mieter m√ºssen zwar gr√ºndlich reinigen, aber keine gef√§hrlichen Arbeiten ausf√ºhren. Aussen liegende Fensterl√§den auszuh√§ngen, an der Fassade zu klettern oder alte Doppelfenster zu zerlegen, kann nicht verlangt werden. Arbeiten mit Sicherheitsrisiko oder Fachkenntnis bleiben Aufgabe von Fachpersonen."
              }
            ]
          },
          {
            id: "reinigung-orga",
            title: "Organisation & Verantwortung",
            icon: "üßæ",
            description: "Reinigungsfirma, Abnahmegarantie und Folgen bei M√§ngeln.",
            keywords: ["Reinigungsfirma", "Abnahmegarantie", "Nachreinigung", "Kosten"],
            questions: [
              "Muss ich eine Reinigungsfirma beauftragen?",
              "Lohnt sich eine Abnahmegarantie?",
              "Was passiert bei ungen√ºgender Reinigung?",
              "Wie l√§uft eine Nachreinigung ab?"
            ],
            sections: [
              {
                title: "Muss ich eine professionelle Reinigungsfirma f√ºr die Endreinigung engagieren?",
                text: "Nein, es besteht keine Pflicht. Sie d√ºrfen die Endreinigung selbst durchf√ºhren. Wichtig ist nur, dass die Wohnung am Ende sauber √ºbergeben wird. Eine Firma mit Abnahmegarantie kann jedoch Stress vermeiden und Nachreinigungen abdecken."
              },
              {
                title: "Was passiert, wenn die Wohnung bei der Abgabe nicht sauber genug ist?",
                text: "Die Vermieterseite muss Ihnen zuerst eine kurze Nachfrist zum Nachreinigen geben. Erst wenn die Wohnung danach immer noch nicht sauber ist, darf die Vermietung eine Reinigung organisieren und Ihnen die Kosten in Rechnung stellen."
              }
            ]
          }
        ]
      },
      {
        id: "uebergabe",
        title: "Wohnungs√ºbergabe",
        subtitle: "Ablauf & √úbergabeprotokoll",
        icon: "üóùÔ∏è",
        description: "Termine, Schl√ºssel, Protokoll und Abgabeablauf.",
        topics: [
          {
            id: "uebergabe-termine",
            title: "Termin & Schl√ºssel",
            icon: "üìÖ",
            description: "R√ºckgabezeitpunkt und √úbergabeform.",
            keywords: ["√úbergabetermin", "Schl√ºssel", "R√ºckgabe", "Fristen"],
            questions: [
              "Bis wann muss ich die Wohnung √ºbergeben?",
              "Was gilt bei Monatsende oder Feiertagen?",
              "Was passiert, wenn niemand zur Abnahme kommt?",
              "Kann ich fr√ºher ausziehen und die Schl√ºssel abgeben?"
            ],
            sections: [
              {
                title: "Bis wann muss ich am Auszugstermin die Wohnung √ºbergeben?",
                text: "Die Wohnung ist sp√§testens am letzten Tag der Mietdauer w√§hrend der √ºblichen Gesch√§ftszeiten zur√ºckzugeben. Viele Mietvertr√§ge erlauben die Abgabe bis Mittag des folgenden Tages, wenn das Mietende auf einen Monatsletzten f√§llt. F√§llt der Termin auf ein Wochenende oder einen Feiertag, verschiebt er sich auf den n√§chsten Werktag."
              },
              {
                title: "Was, wenn der Vermieter die Wohnungsabnahme verweigert oder nicht erscheint?",
                text: "Ihre Pflicht ist erf√ºllt, sobald die Wohnung ger√§umt ist und die Schl√ºssel fristgerecht √ºbergeben wurden. Erscheint niemand, informieren Sie die Vermietung schriftlich und dokumentieren die Schl√ºssel√ºbergabe. Im Zweifel senden Sie die Schl√ºssel per Einschreiben."
              },
              {
                title: "Kann ich die Wohnung schon vor dem Mietende √ºbergeben?",
                text: "Ja, Sie k√∂nnen fr√ºher ausziehen und die Schl√ºssel abgeben. Schlagen Sie der Vermietung schriftlich einen fr√ºheren Termin vor. Wird der fr√ºhere Termin abgelehnt, k√∂nnen Sie die Schl√ºssel trotzdem per Einschreiben senden. Die Mietzahlungspflicht l√§uft bis Vertragsende weiter, eine Nutzungspflicht gibt es jedoch nicht."
              }
            ]
          },
          {
            id: "uebergabe-protokoll",
            title: "Protokoll & Unterschrift",
            icon: "üìù",
            description: "Was gilt beim Abnahmeprotokoll und bei Unterschriften?",
            keywords: ["Abnahmeprotokoll", "Unterschrift", "Schuldanerkennung"],
            questions: [
              "Muss ich das √úbergabeprotokoll unterschreiben?",
              "Wie reagiere ich bei strittigen Punkten?",
              "Was tun bei Druck zur Unterschrift?"
            ],
            sections: [
              {
                title: "Muss ich das Wohnungs√ºbergabe-Protokoll unterschreiben?",
                text: "Nein. Unterschreiben Sie nur, wenn Sie mit dem Inhalt vollst√§ndig einverstanden sind. Eine Unterschrift bedeutet, dass Sie die festgehaltenen M√§ngel akzeptieren. Bei Streitpunkten k√∂nnen Sie die Unterschrift verweigern oder einen Zusatz wie ‚ÄûUnterschrift gilt nicht als Schuldanerkennung‚Äú vermerken."
              },
              {
                title: "Was kann ich tun, wenn ich ein Protokoll unter Druck unterschrieben habe?",
                text: "Wenn Sie sich gezwungen f√ºhlten, k√∂nnen Sie Ihre Unterschrift schriftlich widerrufen. Senden Sie rasch einen eingeschriebenen Brief an die Vermietung und erkl√§ren Sie, dass Sie unter Irrtum oder Druck unterschrieben haben. In der Praxis werden bei Streitf√§llen oft Kompromisse gesucht."
              }
            ]
          }
        ]
      },
      {
        id: "schaeden",
        title: "Sch√§den & Abnutzung",
        subtitle: "Reparaturen und Verantwortlichkeiten",
        icon: "üõ†Ô∏è",
        description: "Was ist normal, was ist zu bezahlen und wie wird der Zeitwert berechnet?",
        topics: [
          {
            id: "schaeden-abnutzung",
            title: "Abnutzung vs. Schaden",
            icon: "‚öñÔ∏è",
            description: "Unterschiede zwischen normaler Abnutzung und √ºberm√§ssigen Sch√§den.",
            keywords: ["Abnutzung", "Schaden", "Zeitwert", "Reparaturkosten"],
            questions: [
              "Was z√§hlt als normale Abnutzung?",
              "Wann muss ich f√ºr Sch√§den bezahlen?",
              "Wie wird der Zeitwert berechnet?",
              "Wer tr√§gt die Kosten bei alter Ausstattung?"
            ],
            sections: [
              {
                title: "Was gilt als normale Abnutzung ‚Äì und f√ºr welche Sch√§den muss ich bezahlen?",
                text: "Normale Abnutzung durch √ºblichen Gebrauch ist mit der Miete abgegolten und muss nicht bezahlt werden (z.B. leicht verblichene W√§nde, √ºbliche Kratzer). √úberm√§ssige Abnutzung oder Besch√§digungen wie Brandl√∂cher, tiefe Kratzer oder Spr√ºnge m√ºssen hingegen bezahlt werden."
              },
              {
                title: "Dabei z√§hlt der Zeitwert, nicht der Neupreis",
                text: "Bei einer n√∂tigen Erneuerung zahlen Sie nur den Zeitwert. Die Lebensdauer der Sache wird ber√ºcksichtigt. Ist eine Wandfarbe z.B. √§lter als die √ºbliche Lebensdauer, tr√§gt der Vermieter die Kosten."
              }
            ]
          },
          {
            id: "schaeden-anstrich",
            title: "W√§nde, Umbauten & kleiner Unterhalt",
            icon: "üé®",
            description: "Malerarbeiten, kleine Reparaturen und R√ºckbau.",
            keywords: ["W√§nde streichen", "Umbauten", "kleiner Unterhalt", "D√ºbell√∂cher"],
            questions: [
              "Muss ich W√§nde weiss streichen?",
              "Welche Umbauten muss ich r√ºckg√§ngig machen?",
              "Was geh√∂rt zum kleinen Unterhalt?",
              "M√ºssen D√ºbell√∂cher geschlossen werden?"
            ],
            sections: [
              {
                title: "Muss ich W√§nde neu streichen oder f√ºr Malerarbeiten aufkommen?",
                text: "Grunds√§tzlich wird ein neutraler weisser Anstrich erwartet, wenn nichts anderes vereinbart ist. Knallige Farben oder starke Vergilbungen k√∂nnen kostenpflichtig sein. Normale Gebrauchsspuren gelten als √ºbliche Abnutzung und m√ºssen nicht bezahlt werden."
              },
              {
                title: "Muss ich von mir durchgef√ºhrte bauliche √Ñnderungen r√ºckg√§ngig machen?",
                text: "Umbauten ohne Zustimmung m√ºssen beim Auszug auf Wunsch des Vermieters r√ºckg√§ngig gemacht werden. Holen Sie f√ºr gr√∂ssere Ver√§nderungen immer eine schriftliche Zustimmung ein."
              },
              {
                title: "Was z√§hlt als ‚Äûkleiner Unterhalt‚Äú und was muss ich selbst erledigen?",
                text: "Kleiner Unterhalt umfasst einfache, geringf√ºgige Reparaturen wie Gl√ºhbirnen ersetzen, Armaturen entkalken, Abfl√ºsse reinigen oder D√ºbell√∂cher sauber ausbessern. Arbeiten mit Fachkenntnis sind Sache des Vermieters."
              },
              {
                title: "M√ºssen D√ºbel- und Bohrl√∂cher vor dem Auszug geschlossen werden?",
                text: "Ja. L√∂cher sollten fachgerecht zugespachtelt, geschliffen und im passenden Farbton √ºberstrichen werden, damit sie nicht mehr sichtbar sind."
              }
            ]
          },
          {
            id: "schaeden-meldung",
            title: "Meldungen & Schl√ºssel",
            icon: "üîê",
            description: "Fristen, Nachforderungen und Schl√ºsselverlust.",
            keywords: ["M√§ngelr√ºge", "Schl√ºsselverlust", "Nachforderung", "Frist"],
            questions: [
              "Darf der Vermieter sp√§ter neue Sch√§den melden?",
              "Was passiert bei versteckten M√§ngeln?",
              "Muss ich bei Schl√ºsselverlust das Schloss zahlen?"
            ],
            sections: [
              {
                title: "Darf der Vermieter Wochen nach dem Auszug neue Sch√§den melden?",
                text: "M√§ngel m√ºssen bei der R√ºckgabe festgehalten und dem Mieter zeitnah mitgeteilt werden. Wird dies vers√§umt, sind Anspr√ºche in der Regel verwirkt. Versteckte M√§ngel m√ºssen sofort nach Entdeckung gemeldet werden."
              },
              {
                title: "Ich habe einen Wohnungsschl√ºssel verloren ‚Äì muss ich das Schloss bezahlen?",
                text: "Wenn keine Missbrauchsgefahr besteht, reicht oft ein Ersatzschl√ºssel. Besteht ein Sicherheitsrisiko, kann der Austausch des Schliesssystems n√∂tig sein ‚Äì dabei wird der Zeitwert ber√ºcksichtigt. H√§ufig √ºbernimmt die Privathaftpflichtversicherung solche Kosten."
              }
            ]
          }
        ]
      },
      {
        id: "kaution",
        title: "Mietkaution",
        subtitle: "Mietzinsdepot & R√ºckzahlung",
        icon: "üí∞",
        description: "Fristen und Vorgehen bei der Freigabe des Depots.",
        topics: [
          {
            id: "kaution-frist",
            title: "R√ºckzahlung & Fristen",
            icon: "‚è±Ô∏è",
            description: "Wann wird die Kaution freigegeben?",
            keywords: ["Mietkaution", "Depot", "Auszahlung", "Frist"],
            questions: [
              "Wann bekomme ich die Kaution zur√ºck?",
              "Darf der Vermieter Geld zur√ºckbehalten?",
              "Wie lange darf die Freigabe dauern?"
            ],
            sections: [
              {
                title: "Wann muss der Vermieter meine Mietkaution zur√ºckzahlen?",
                text: "Nach ordnungsgem√§sser √úbergabe sollte das Depot zeitnah freigegeben werden. √úblich ist eine Frist von etwa 30 Tagen. Ein Teil kann zur√ºckbehalten werden, solange berechtigte Forderungen ungekl√§rt sind ‚Äì aber nur verh√§ltnism√§ssig. Sp√§testens nach 12 Monaten ohne gerichtliche Anspr√ºche k√∂nnen Sie die Auszahlung direkt bei der Bank verlangen."
              }
            ]
          },
          {
            id: "kaution-streit",
            title: "Wenn die Kaution blockiert wird",
            icon: "üì®",
            description: "N√§chste Schritte bei verweigerter Auszahlung.",
            keywords: ["Kaution blockiert", "Schlichtungsbeh√∂rde", "R√ºckforderung"],
            questions: [
              "Was kann ich tun, wenn der Vermieter nicht zahlt?",
              "Wie fordere ich die Kaution schriftlich zur√ºck?",
              "Wann kann ich die Bank direkt anweisen?"
            ],
            sections: [
              {
                title: "Was kann ich tun, wenn der Vermieter die Kaution nicht zur√ºckzahlt?",
                text: "Fordern Sie die Freigabe schriftlich und setzen Sie eine Frist. Reagiert die Vermietung nicht, k√∂nnen Sie bei der Schlichtungsbeh√∂rde Klage auf R√ºckzahlung einreichen. Nach einem Jahr ohne rechtliche Schritte muss die Bank das Geld an Sie auszahlen."
              }
            ]
          }
        ]
      },
      {
        id: "allgemeines",
        title: "Allgemeines",
        subtitle: "Vorbereitung & praktische Tipps",
        icon: "üìå",
        description: "Checklisten, Dokumente und reibungslose Abl√§ufe.",
        topics: [
          {
            id: "allgemeines-checkliste",
            title: "Auszugs-Checkliste",
            icon: "‚úÖ",
            description: "So beh√§ltst du den √úberblick bis zur Abgabe.",
            keywords: ["Checkliste", "Vorbereitung", "Unterlagen", "√úbergabeplan"],
            questions: [
              "Welche Schritte sollte ich zuerst planen?",
              "Welche R√§ume sollte ich priorisieren?",
              "Welche Unterlagen sollte ich bereithalten?"
            ],
            sections: [
              {
                title: "Welche Schritte sollte ich vor der √úbergabe planen?",
                text: "Plane mindestens zwei Wochen Puffer f√ºr die Endreinigung, kleine Reparaturen und die Terminabstimmung. Erstelle eine Aufgabenliste f√ºr K√ºche, Bad, Fenster, B√∂den und Keller und hake erledigte Punkte ab."
              },
              {
                title: "Was geh√∂rt in meine Unterlagenmappe?",
                text: "Lege Mietvertrag, √úbergabeprotokoll, Fotos des Wohnungszustands und allf√§llige Rechnungen bereit. So kannst du R√ºckfragen schnell kl√§ren."
              }
            ]
          },
          {
            id: "allgemeines-ablauf",
            title: "Reibungslose √úbergabe",
            icon: "ü§ù",
            description: "Kommunikation und klare Absprachen.",
            keywords: ["Kommunikation", "Abnahme", "Protokoll", "√úbergabetermin"],
            questions: [
              "Wie best√§tige ich Termine richtig?",
              "Was hilft gegen Missverst√§ndnisse?",
              "Wie l√§uft eine stressfreie Abnahme ab?"
            ],
            sections: [
              {
                title: "Wie kommuniziere ich am besten mit der Vermietung?",
                text: "Best√§tige Termine schriftlich, halte Absprachen kurz fest und dokumentiere wichtige Punkte. So vermeidest du Missverst√§ndnisse und hast einen klaren Nachweis."
              },
              {
                title: "Was hilft bei einer stressfreien Abnahme?",
                text: "Ein letzter Rundgang am Vortag, ein sauberes Abnahmeprotokoll und ein Set Ersatzschl√ºssel vereinfachen den Termin. Bei Unsicherheiten lohnt es sich, eine zweite Person als Zeugin mitzunehmen."
              }
            ]
          }
        ]
      }
    ];

    const views = {
      home: document.getElementById("helpHome"),
      search: document.getElementById("helpSearch"),
      category: document.getElementById("helpCategory"),
      article: document.getElementById("helpArticle")
    };
    const categoryGrid = document.getElementById("categoryGrid");
    const categoryTabs = document.getElementById("categoryTabs");
    const subcategoryGrid = document.getElementById("subcategoryGrid");
    const categoryTitle = document.getElementById("categoryTitle");
    const categorySubtitle = document.getElementById("categorySubtitle");
    const articleContent = document.getElementById("articleContent");
    const articleNav = document.getElementById("articleNav");
    const backToHome = document.getElementById("backToHome");
    const backToCategory = document.getElementById("backToCategory");
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");
    const searchSuggestions = document.getElementById("searchSuggestions");
    const searchResults = document.getElementById("searchResults");
    const searchResultsMeta = document.getElementById("searchResultsMeta");

    let activeCategory = null;
    let searchIndex = [];

    let activeCategory = null;

    const showView = (viewName) => {
      Object.values(views).forEach(view => view.classList.remove("active"));
      views[viewName].classList.add("active");
      window.scrollTo({ top: 0, behavior: "smooth" });
    };

    const renderHome = () => {
      categoryGrid.innerHTML = helpData.map(category => `
        <button class="category-card" data-category="${category.id}" type="button">
          <span class="category-icon">${category.icon}</span>
          <h3>${category.title}</h3>
          <p>${category.subtitle}</p>
        </button>
      `).join("");

      categoryGrid.querySelectorAll("button").forEach(button => {
        button.addEventListener("click", () => {
          const categoryId = button.dataset.category;
          const category = helpData.find(item => item.id === categoryId);
          renderCategory(category);
        });
      });
    };

    const renderCategoryTabs = (categoryId) => {
      categoryTabs.innerHTML = `<h4>Kategorien</h4>` + helpData.map(category => `
        <div class="category-tab ${category.id === categoryId ? "active" : ""}" data-category="${category.id}">
          <span>${category.icon}</span>
          <span>${category.title}</span>
        </div>
      `).join("");

      categoryTabs.querySelectorAll(".category-tab").forEach(tab => {
        tab.addEventListener("click", () => {
          const newCategory = helpData.find(item => item.id === tab.dataset.category);
          renderCategory(newCategory);
        });
      });
    };

    const renderCategory = (category) => {
      activeCategory = category;
      categoryTitle.textContent = category.title;
      categorySubtitle.textContent = category.description;
      renderCategoryTabs(category.id);
      subcategoryGrid.innerHTML = category.topics.map(topic => `
        <div class="subcat-card" data-topic="${topic.id}">
          <span class="subcat-icon">${topic.icon}</span>
          <h3>${topic.title}</h3>
          <p>${topic.description}</p>
          <ul class="subcat-list">
            ${topic.questions.map(question => `
              <li><button class="link-btn subcat-link" data-topic="${topic.id}" type="button">${question}</button></li>
            `).join("")}
          </ul>
        </div>
      `).join("");

      subcategoryGrid.querySelectorAll(".subcat-link").forEach(button => {
        <button class="subcat-card" data-topic="${topic.id}" type="button">
          <span class="subcat-icon">${topic.icon}</span>
          <h3>${topic.title}</h3>
          <p>${topic.description}</p>
        </button>
      `).join("");

      subcategoryGrid.querySelectorAll("button").forEach(button => {
        button.addEventListener("click", () => {
          const topic = category.topics.find(item => item.id === button.dataset.topic);
          renderArticle(category, topic);
        });
      });

      showView("category");
    };

    const renderArticle = (category, topic) => {
      const sectionsMarkup = topic.sections.map((section, index) => {
        const anchor = `section-${index}`;
        return `
          <div class="article-section" id="${anchor}">
            <h3>${section.title}</h3>
            <p>${section.text}</p>
          </div>
        `;
      }).join("");

      articleContent.innerHTML = `
        <div class="breadcrumb">
          <span>Help Center</span>
          <span>‚Ä¢</span>
          <span>${category.title}</span>
          <span>‚Ä¢</span>
          <span>${topic.title}</span>
          <span class="pill">Kategorie: ${category.title}</span>
        </div>
        <h2>${topic.title}</h2>
        <p>${topic.description}</p>
        ${sectionsMarkup}
        <div class="feedback" id="feedback">
          <h4>War der Artikel hilfreich?</h4>
          <div class="feedback-actions">
            <button class="btn btn-primary" data-feedback="yes" type="button">Ja, danke!</button>
            <button class="btn btn-outline" data-feedback="no" type="button">Nicht wirklich</button>
          </div>
          <div class="feedback-thanks" id="feedbackThanks" style="display:none;">Danke! Dein Feedback hilft uns, die Inhalte weiter zu verbessern.</div>
          <form class="feedback-form" id="feedbackForm" style="display:none;">
            <div class="feedback-options">
              <label><input type="radio" name="feedbackReason" /> Dieser Artikel hat meine Fragen nicht beantwortet</label>
              <label><input type="radio" name="feedbackReason" /> Ich fand diesen Artikel verwirrend oder schwer lesbar</label>
              <label><input type="radio" name="feedbackReason" /> Mir gef√§llt nicht, wie der Ablauf erkl√§rt wurde</label>
              <label><input type="radio" name="feedbackReason" /> Sonstiges</label>
            </div>
            <textarea placeholder="Gibt es noch etwas, das du uns mitteilen m√∂chtest?"></textarea>
            <button class="btn btn-primary" type="button">Feedback senden</button>
          </form>
        </div>
      `;

      articleNav.innerHTML = `
        <h4>In diesem Artikel</h4>
        ${topic.sections.map((section, index) => `
          <a href="#section-${index}">${section.title}</a>
        `).join("")}
      `;

      const feedbackButtons = articleContent.querySelectorAll("[data-feedback]");
      const feedbackForm = articleContent.querySelector("#feedbackForm");
      const feedbackThanks = articleContent.querySelector("#feedbackThanks");
      feedbackButtons.forEach(button => {
        button.addEventListener("click", () => {
          const value = button.dataset.feedback;
          if (value === "yes") {
            feedbackThanks.style.display = "block";
            feedbackForm.style.display = "none";
          } else {
            feedbackThanks.style.display = "none";
            feedbackForm.style.display = "grid";
          }
        });
      });

      showView("article");
    };

    const buildSearchIndex = () => {
      searchIndex = helpData.flatMap(category => category.topics.map(topic => {
        const sectionText = topic.sections.map(section => `${section.title} ${section.text}`).join(" ");
        const keywordText = (topic.keywords || []).join(" ");
        const questionText = (topic.questions || []).join(" ");
        return {
          category,
          topic,
          content: `${category.title} ${category.subtitle} ${topic.title} ${topic.description} ${keywordText} ${questionText} ${sectionText}`.toLowerCase(),
          snippet: topic.sections[0]?.text || ""
        };
      }));
    };

    const matchResults = (query) => {
      const terms = query.toLowerCase().split(/\s+/).filter(Boolean);
      if (!terms.length) return [];
      return searchIndex.filter(item => terms.every(term => item.content.includes(term)));
    };

    const renderSuggestions = (query) => {
      const results = matchResults(query).slice(0, 5);
      if (!results.length) {
        searchSuggestions.classList.remove("active");
        searchSuggestions.innerHTML = "";
        return;
      }
      searchSuggestions.classList.add("active");
      searchSuggestions.innerHTML = results.map(result => `
        <div class="search-suggestion" data-category="${result.category.id}" data-topic="${result.topic.id}">
          <strong>${result.topic.title}</strong> ¬∑ ${result.category.title}
        </div>
      `).join("");
      searchSuggestions.querySelectorAll(".search-suggestion").forEach(item => {
        item.addEventListener("click", () => {
          const category = helpData.find(entry => entry.id === item.dataset.category);
          const topic = category.topics.find(entry => entry.id === item.dataset.topic);
          renderArticle(category, topic);
          searchSuggestions.classList.remove("active");
        });
      });
    };

    const renderSearchResults = (query) => {
      const results = matchResults(query);
      searchResultsMeta.textContent = results.length
        ? `${results.length} passende Artikel f√ºr ‚Äû${query}‚Äú`
        : `Keine Treffer f√ºr ‚Äû${query}‚Äú`;
      searchResults.innerHTML = results.map(result => `
        <div class="search-result-card" data-category="${result.category.id}" data-topic="${result.topic.id}">
          <h3>${result.topic.title}</h3>
          <p>${result.snippet}</p>
        </div>
      `).join("");
      searchResults.querySelectorAll(".search-result-card").forEach(card => {
        card.addEventListener("click", () => {
          const category = helpData.find(entry => entry.id === card.dataset.category);
          const topic = category.topics.find(entry => entry.id === card.dataset.topic);
          renderArticle(category, topic);
        });
      });
      showView("search");
    };

    const handleSearchSubmit = () => {
      const query = searchInput.value.trim();
      if (!query) {
        showView("home");
        return;
      }
      renderSearchResults(query);
      searchSuggestions.classList.remove("active");
    };

    backToHome.addEventListener("click", () => showView("home"));
    backToCategory.addEventListener("click", () => renderCategory(activeCategory));
    searchInput.addEventListener("input", (event) => renderSuggestions(event.target.value));
    searchInput.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        handleSearchSubmit();
      }
    });
    searchBtn.addEventListener("click", handleSearchSubmit);

    buildSearchIndex();
    backToHome.addEventListener("click", () => showView("home"));
    backToCategory.addEventListener("click", () => renderCategory(activeCategory));

    renderHome();
  </script>
</body>
</html>
